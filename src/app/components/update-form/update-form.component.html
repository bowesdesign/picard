<navbar
  pageTitle="Update"
  [showBackBtn]="true"
  (backClicked)="handleBackClick()">
</navbar>

<div class="update-form__image-upload-box" *ngIf="uploadInProgress || imagePresent()">
  <mat-progress-spinner *ngIf="uploadInProgress"
                        color="primary"
                        mode="indeterminate"
                        [strokeWidth]="2"
                        [diameter]="64">
  </mat-progress-spinner>

  <img class="update-form__image" [src]="imageUrls[0]"
       (load)="uploadInProgress=false"
       *ngIf="imagePresent()">
</div>

<textarea matInput matTextareaAutosize matAutosizeMinRows="6"
          class="update-form__text"
          (keyup)="onTextKey($event)"
          placeholder="What's new?"></textarea>

<div class="update-form__actions">

  <div class="update-form__actions--left">
    <button mat-icon-button
            class="update-form__camera"
            (click)="openFileUploader()">
        <i class="material-icons">camera_alt</i>
    </button>
  </div>

  <div class="update-form__actions--right">
    <button mat-icon-button class="update-form__send" (click)="onPostClicked()">
      <i class="material-icons">send</i>
    </button>
  </div>

</div>

<input id="update-form__image-input" type="file" (change)="upload($event)" accept=".png,.jpg"/>
